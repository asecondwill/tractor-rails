<div class="container-fluid">
  <h1>Pages</h1>
  <table class="table">
    <thead>
      <tr>
          <th>Title</th>
          <th>Slug</th>
          <th>Content</th>
          <th>Created</th>
          <th>Updated</th>
          <th>Published</th>
          <th colspan="3"></th>
      </tr>
    </thead>
    <tbody>
      <% @pages.order(created_at: :asc).each do |page| %>
        <tr>
            <td><%= page.title %></td>
            <td><%= page.slug %></td>
            <td><%= page.description.truncate(27) %></td>
            <td><%= page.created_at.to_fs(:long) %></td>
            <td><%= page.updated_at.to_fs(:long) %></td>
            <td><%=pillify_boolean  page.published %></td>
          
          <td class="actions">
            <%= link_to 'Show <i class="bi bi-box-arrow-up-right"></i>'.html_safe,  page_path(page.slug), class: 'btn btn-success', target: "_blank" %>
            <%= link_to 'Edit', edit_admin_page_path(page), class: 'btn btn-secondary' %>
            
             <%= link_to "<i class='bi-trash'></i>".html_safe, admin_page_path(page), class: 'btn btn-danger', data: {
                                  turbo_method: :delete,
                                  turbo_confirm: "Are you sure?"
                                } %>

          
            </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <%= link_to 'New Page', new_admin_page_path, class: "btn btn-success min-width-btn" %>

</div>